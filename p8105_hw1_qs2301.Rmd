---
title: "p8105_hw1_qs2301"
output: github_document
date: "2025-09-20"
---


```{r setup, include=FALSE}
library(tidyverse)    
library(moderndive)   
knitr::opts_chunk$set(fig.path = "figs/", fig.width = 7, fig.height = 5, dpi = 150)
```

### Problem 1
```{r}
data("early_january_weather")
```

```{r}
library(dplyr)
data("early_january_weather")
var_names  <- names(early_january_weather)
var_names
n_obs      <- nrow(early_january_weather)
n_obs
n_vars     <- ncol(early_january_weather)
n_vars
mean_temp  <- mean(early_january_weather$temp, na.rm = TRUE)
mean_temp
origins    <- unique(early_january_weather$origin)
origins
time_rng   <- range(early_january_weather$time_hour, na.rm = TRUE)
time_rng
```
### Short description
This dataset contains hourly weather observations from `r paste(origins, collapse = ", ")`
between `r format(time_rng[1], "%Y-%m-%d %H:%M")` and
`r format(time_rng[2], "%Y-%m-%d %H:%M")`.  
It has **`r n_obs` rows** and **`r n_vars` columns**.  
Important variables include:
- `origin` (airport code), `year`, `month`, `day`, `hour`
- `time_hour` (POSIXct date-time at the start of each hour)
- `temp` (air temperature, °F), `dewp` (dew point, °F), `humid` (relative humidity, %)
- `wind_dir` (degrees), `wind_speed` and `wind_gust` (mph)
- `precip` (inches), `pressure` (millibars), `visib` (miles)

The **mean temperature** is **`r round(mean_temp, 1)` °F** (missing values removed).
For reference, the columns are: `r paste(var_names, collapse = ", ")`.
```{r}

# scatterplot: temp vs time_hour, color by humidity
p <- ggplot(early_january_weather,
            aes(x = time_hour, y = temp, color = humid)) +
  geom_point(alpha = 0.7, size = 1.6) +
  labs(title = "Hourly Temperature in Early January",
       x = "Time (hourly)",
       y = "Temperature (°F)",
       color = "Humidity (%)") +
  theme_minimal()

# show plot in the knitted document
p

```
The scatterplot reveals a repeating daily cycle of temperature changes. Colder times of day are generally associated with higher humidity, whereas warmer periods show lower humidity. This highlights the typical inverse relationship between air temperature and relative humidity in early January at Newark.

### Problem 2
```{r}
set.seed(100)
library(tidyverse)

df2 <- tibble(
  z    = rnorm(10),                              # numeric: N(0,1)
  pos  = z > 0,                                   # logical: TRUE if z > 0
  txt  = sample(c("red","green","blue","purple"), 10, replace = TRUE),  # character
  grp  = factor(sample(c("A","B","C"), 10, replace = TRUE))             # factor (3 levels)
)

df2
```

```{r}
mean(df2 |> pull(z))      # works: numeric mean
mean(df2 |> pull(pos))    # works: TRUE/FALSE coerces to 1/0 → share TRUE
```


**Explanation:**
- **Numeric (`z`)**: `mean()` returns the arithmetic mean.  
- **Logical (`pos`)**: `TRUE`→1, `FALSE`→0 under the hood, so `mean(pos)` is the **proportion of TRUEs** (the share of `z > 0`).
- **Character (`txt`)**: has no numeric meaning; `mean()` throws an error. 
- **Factor (`grp`)**: also throws an error; factors are categorical labels, not numbers. 
```{r}
as.numeric(df2$pos)  # logical → 0/1
as.numeric(df2$txt)  # character → NA (not coercible to numbers)
as.numeric(df2$grp)  # factor → underlying integer level codes (A=1, B=2, C=3)


```
**What happens & why:**
- `as.numeric(logical)` returns **0/1**, which is why `mean(pos)` works and equals the fraction of positives.
- `as.numeric(character)` returns **`NA`** with a warning (“NAs introduced by coercion”) because strings like `"red"` can’t be turned into numbers; hence you can’t take a meaningful mean.
- `as.numeric(factor)` returns the **internal integer codes of the levels** (e.g., A→1, B→2, C→3), **not** meaningful measurements. A mean of these codes would be an average of arbitrary labels.

